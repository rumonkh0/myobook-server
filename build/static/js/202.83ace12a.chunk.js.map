{"version":3,"file":"static/js/202.83ace12a.chunk.js","mappings":"wLACA,EAAuB,oBAAvB,EAAuD,yB,2DC4CvD,MApCA,WACE,IAAMA,GAAWC,EAAAA,EAAAA,MAETC,GAASC,EAAAA,EAAAA,MAATD,KACR,GAA4DE,EAAAA,EAAAA,GAAS,CACnEC,SAAU,CAAC,UAAWH,GACtBI,QAAQ,WAAD,8BAAE,2GACgBC,EAAAA,EAAAA,IAAU,GAAD,OAC3BC,GAAiC,yBAAiBN,GACrD,CACEO,iBAAiB,IAEnB,KAAD,EALW,OAKX,SALOC,EAAI,EAAJA,KAAI,kBAMLA,GAAI,2CACZ,kDARO,GASRC,sBAAsB,IAXhBC,EAAS,EAATA,UAAWC,EAAO,EAAPA,QAASH,EAAI,EAAJA,KAAMI,EAAU,EAAVA,WAAYC,EAAS,EAATA,UAcxCC,EAAeJ,GAAaE,EAQlC,OANAG,EAAAA,EAAAA,YAAU,WACJJ,GACFb,EAAS,OAEb,GAAG,CAACa,KAGF,gBAAKK,UAAWC,EAAa,UAC3B,iBAAKD,UAAWC,EAAkB,UAC/BH,IAAgB,SAACI,EAAA,EAAY,IAC7BL,IAAcH,IAAa,SAAC,IAAI,CAACV,KAAU,OAAJQ,QAAI,IAAJA,OAAI,EAAJA,EAAMA,KAAKR,WAI3D,C","sources":["webpack://backbook/./src/pages/post/style.module.css?ba73","pages/post/PostPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"post\":\"style_post__7yV0-\",\"container\":\"style_container__Ff+TV\"};","import React, { useEffect } from \"react\";\r\nimport classes from \"./style.module.css\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport axios from \"axios\";\r\nimport { useQuery } from \"@tanstack/react-query\";\r\nimport Post from \"../../components/posts/post\";\r\nimport PostSkeleton from \"../../components/skeleton/PostSkeleton\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction PostPage() {\r\n  const navigate = useNavigate();\r\n\r\n  const { post } = useParams();\r\n  const { isLoading, isError, data, isFetching, isSuccess } = useQuery({\r\n    queryKey: [\"getPost\", post],\r\n    queryFn: async () => {\r\n      const { data } = await axios.get(\r\n        `${process.env.REACT_APP_BACKEND_URL}/api/v1/posts/${post}`,\r\n        {\r\n          withCredentials: true,\r\n        }\r\n      );\r\n      return data;\r\n    },\r\n    refetchOnWindowFocus: false,\r\n  });\r\n\r\n  const postsSkelton = isLoading || isFetching;\r\n\r\n  useEffect(() => {\r\n    if (isError) {\r\n      navigate(\"/404\");\r\n    }\r\n  }, [isError]);\r\n\r\n  return (\r\n    <div className={classes.post}>\r\n      <div className={classes.container}>\r\n        {postsSkelton && <PostSkeleton />}\r\n        {isSuccess && !isLoading && <Post post={data?.data.post} />}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PostPage;\r\n"],"names":["navigate","useNavigate","post","useParams","useQuery","queryKey","queryFn","axios","process","withCredentials","data","refetchOnWindowFocus","isLoading","isError","isFetching","isSuccess","postsSkelton","useEffect","className","classes","PostSkeleton"],"sourceRoot":""}